<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª (13) - Ø£/ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ</title>
    <style>
        :root { 
            --primary: #b71c1c;   /* Ø£Ø­Ù…Ø± Ù‚Ø±Ù…Ø²ÙŠ */
            --secondary: #37474f; /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ­Ù…ÙŠ */
            --accent: #ffb300;    /* Ø°Ù‡Ø¨ÙŠ */
            --bg: #fff5f5; 
            --white: #ffffff; 
            --correct: #2e7d32;
            --wrong: #c62828;
        }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; line-height: 1.7; color: #333; }
        .quiz-card { background: var(--white); width: 100%; max-width: 950px; border-radius: 25px; box-shadow: 0 10px 40px rgba(183,28,28,0.1); border-top: 15px solid var(--primary); padding: 30px; position: relative; }
        .header { text-align: center; border-bottom: 2px solid #eee; margin-bottom: 25px; padding-bottom: 15px; }
        
        .info-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; position: sticky; top: 10px; z-index: 1000; }
        .student-badge { background: #ffebee; color: var(--primary); padding: 10px 20px; border-radius: 50px; font-weight: bold; border: 2px solid var(--primary); font-size: 1rem; }
        
        .timer-container { background: var(--wrong); color: white; padding: 8px 25px; border-radius: 50px; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .timer-pulse { animation: pulse-animation 0.6s infinite alternate; transform: scale(1.1); }
        @keyframes pulse-animation { from { transform: scale(1.1); } to { transform: scale(1.25); } }
        
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
        .option { padding: 18px; border: 2px solid #f0f0f0; border-radius: 15px; cursor: pointer; transition: 0.3s; font-weight: bold; background: #fafafa; font-size: 1.1rem; text-align: center; }
        .option:hover { border-color: var(--primary); background: #fff8f8; transform: translateY(-2px); }
        
        .correct-opt { background: var(--correct) !important; color: white; border-color: var(--correct) !important; }
        .wrong-opt { background: var(--wrong) !important; color: white; border-color: var(--wrong) !important; }
        
        .feedback-box { margin-top: 20px; padding: 20px; border-radius: 15px; background: #fffde7; border-right: 8px solid var(--accent); display: none; font-size: 1.05rem; }
        .btn { background: var(--secondary); color: white; padding: 16px 45px; border: none; border-radius: 12px; cursor: pointer; font-size: 1.2rem; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: var(--primary); }
        
        .result-table { width: 100%; border-collapse: collapse; margin-top: 25px; background: white; }
        .result-table th { background: var(--secondary); color: white; padding: 12px; }
        .result-table td { border: 1px solid #ddd; padding: 12px; text-align: center; font-size: 0.9rem; }
        
        .hidden { display: none; }
        .locked { text-align: center; color: red; padding: 50px; border: 5px solid red; background: white; border-radius: 20px; }
    </style>
</head>
<body id="main-body">

<div class="quiz-card" id="quiz-container">
    <div class="header">
        <h3 id="author-name">âœ¨ Ø£ / Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</h3>
        <h2 id="quiz-title">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ - Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (13) Ø§Ù„Ù…Ø·ÙˆØ±</h2>
    </div>

    <div id="start-page" style="text-align: center;">
        <p style="font-size: 1.2rem; margin-bottom: 20px;">â±ï¸ 45 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„ | ğŸ”€ Ø®Ù„Ø· Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙƒØ§Ù…Ù„ | ğŸ’¡ ØªØ­Ù„ÙŠÙ„ Ù…Ù†Ø·Ù‚ÙŠ Ù…Ù†Ù‚Ø­</p>
        <input type="text" id="studentNameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ..." style="width: 75%; padding: 15px; border-radius: 10px; border: 2px solid #ccc; text-align: center; font-size: 1.1rem; margin-bottom: 20px;">
        <br><button class="btn" onclick="startQuizAction()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>
    </div>

    <div id="quiz-page" class="hidden">
        <div class="info-bar">
            <div id="current-student-display" class="student-badge"></div>
            <div id="timer-box" class="timer-container">â³ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timer-val">45</span> Ø«Ø§Ù†ÙŠØ©</div>
        </div>
        <div id="progress-text" style="font-weight: bold; color: var(--primary); margin-bottom: 10px;"></div>
        <div id="question-display" style="font-size: 1.8rem; text-align: center; margin: 25px 0; font-weight: 800; color: var(--primary); background: #f9f9f9; padding: 25px; border-radius: 20px; border: 1px solid #eee;"></div>
        <div id="options-container" class="options-grid"></div>
        <div id="feedback-display" class="feedback-box"></div>
        <div style="text-align: center; margin-top: 30px;">
            <button id="next-btn" class="btn hidden" onclick="loadNextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â®•</button>
        </div>
    </div>

    <div id="result-page" class="hidden">
        <div style="text-align: center; padding: 30px; background: #ffebee; border-radius: 20px; border: 3px solid var(--primary); margin-bottom: 30px;">
            <h2 id="score-display" style="color: var(--primary); margin:0; font-size: 2.5rem;"></h2>
            <p id="student-greeting" style="font-size: 1.2rem; margin-top:10px;"></p>
        </div>
        <table class="result-table">
            <thead>
                <tr>
                    <th>Ø§Ù„Ø³Ø¤Ø§Ù„</th>
                    <th>Ø¥Ø¬Ø§Ø¨ØªÙƒ</th>
                    <th>Ø§Ù„ØµØ­ÙŠØ­Ø©</th>
                    <th>Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ</th>
                </tr>
            </thead>
            <tbody id="summary-body"></tbody>
        </table>
        <div style="text-align: center; margin-top: 40px;">
            <p style="font-weight: bold; color: var(--primary);">âœ¨ Ø£ / Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</p>
            <button class="btn" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ”€</button>
        </div>
    </div>
</div>

<script>
    (function protect() {
        const teacher = "Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ";
        setInterval(() => {
            const auth = document.getElementById('author-name');
            if (!auth || !auth.innerText.includes(teacher)) {
                document.getElementById('main-body').innerHTML = '<div class="locked"><h1>âš ï¸ Ø®Ø±Ù‚ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ù„ÙƒÙŠØ©</h1></div>';
            }
        }, 2000);
    })();

    // Ù…ØµÙÙˆÙØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù†Ù‚Ø­Ø© (Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±)
    const questionsPool = [
        {q: "ÙÙŠØ±ÙˆØ³ : Ù…Ø±Ø¶", c: "Ø§Ø¬ØªÙ‡Ø§Ø¯ : Ù†Ø¬Ø§Ø­", a: ["Ø§Ø¬ØªÙ‡Ø§Ø¯ : Ù†Ø¬Ø§Ø­", "ØºØ±Ù‚ : Ù…ÙˆØª", "Ù†Ø§Ø± : Ø­Ø±Ù‚", "ØªÙÙƒÙŠØ± : Ø­Ù„"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø³Ø¨Ø¨ ÙˆÙ†ØªÙŠØ¬Ø©)Ø› Ø§Ù„ÙÙŠØ±ÙˆØ³ ÙŠØ³Ø¨Ø¨ Ø§Ù„Ù…Ø±Ø¶ ÙˆØ§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯ ÙŠØ³Ø¨Ø¨ Ø§Ù„Ù†Ø¬Ø§Ø­." },
        {q: "ØºØ±Ù‚ : Ù…ÙˆØª", c: "Ù†Ø§Ø± : Ø­Ø±Ù‚", a: ["Ù†Ø§Ø± : Ø­Ø±Ù‚", "ØªÙÙƒÙŠØ± : Ø­Ù„", "Ø¥Ù‡Ù…Ø§Ù„ : Ø±Ø³ÙˆØ¨", "Ø³Ø±Ø¹Ø© : Ø­Ø§Ø¯Ø«"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø³Ø¨Ø¨ ÙˆÙ†ØªÙŠØ¬Ø© Ø­ØªÙ…ÙŠØ©)Ø› Ø§Ù„ØºØ±Ù‚ ÙŠØ¤Ø¯ÙŠ Ù„Ù„Ù…ÙˆØª ÙˆØ§Ù„Ù†Ø§Ø± ØªØ¤Ø¯ÙŠ Ù„Ù„Ø­Ø±Ù‚." },
        {q: "Ø¥Ù‡Ù…Ø§Ù„ : Ø±Ø³ÙˆØ¨", c: "Ø³Ø±Ø¹Ø© : Ø­Ø§Ø¯Ø«", a: ["Ø³Ø±Ø¹Ø© : Ø­Ø§Ø¯Ø«", "ØªÙÙƒÙŠØ± : Ø­Ù„", "Ø¬ÙˆØ¹ : Ø£ÙƒÙ„", "Ø¹Ø·Ø´ : Ø´Ø±Ø¨"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø³Ø¨Ø¨ ÙˆÙ†ØªÙŠØ¬Ø© Ø³Ù„Ø¨ÙŠØ©)Ø› Ø§Ù„Ø¥Ù‡Ù…Ø§Ù„ ÙŠØ¤Ø¯ÙŠ Ù„Ù„Ø±Ø³ÙˆØ¨ ÙˆØ§Ù„Ø³Ø±Ø¹Ø© ØªØ¤Ø¯ÙŠ Ù„Ù„Ø­Ø§Ø¯Ø«." },
        {q: "Ù†Ø¬Ø§Ø­ : Ø§Ø¬ØªÙ‡Ø§Ø¯", c: "Ø­Ù„ : ØªÙÙƒÙŠØ±", a: ["Ø­Ù„ : ØªÙÙƒÙŠØ±", "Ø­Ø±Ù‚ : Ù†Ø§Ø±", "Ø­Ø§Ø¯Ø« : Ø³Ø±Ø¹Ø©", "Ø´Ø¨Ø¹ : Ø£ÙƒÙ„"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ù†ØªÙŠØ¬Ø© ÙˆØ³Ø¨Ø¨)Ø› Ø§Ù„Ù†Ø¬Ø§Ø­ ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯ ÙˆØ§Ù„Ø­Ù„ ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙÙƒÙŠØ±." },
        {q: "ÙŠØ±Ù‚Ø© : ÙØ±Ø§Ø´Ø©", c: "Ù‡Ù„Ø§Ù„ : Ø¨Ø¯Ø±", a: ["Ù‡Ù„Ø§Ù„ : Ø¨Ø¯Ø±", "Ø±Ø¶ÙŠØ¹ : Ø´Ø§Ø¨", "Ø¨Ø°Ø±Ø© : Ø´Ø¬Ø±Ø©", "Ø¹Ø¬ÙŠÙ† : Ø®Ø¨Ø²"], r: "Ø¹Ù„Ø§Ù‚Ø© (ØªØ­ÙˆÙ„ ÙˆÙ…Ø±Ø­Ù„ÙŠØ©)Ø› Ø§Ù„ÙŠØ±Ù‚Ø© ØªØµØ¨Ø­ ÙØ±Ø§Ø´Ø© ÙˆØ§Ù„Ù‡Ù„Ø§Ù„ ÙŠØµØ¨Ø­ Ø¨Ø¯Ø±Ø§Ù‹." },
        {q: "Ø¨Ø°Ø±Ø© : Ø´Ø¬Ø±Ø©", c: "Ù†ÙˆØ§Ø© : Ù†Ø®Ù„Ø©", a: ["Ù†ÙˆØ§Ø© : Ù†Ø®Ù„Ø©", "Ø¹Ø¬ÙŠÙ† : Ø®Ø¨Ø²", "Ù…Ø§Ø¡ : Ø«Ù„Ø¬", "Ø¨ÙŠØ¶Ø© : Ø¯Ø¬Ø§Ø¬Ø©"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø£ØµÙ„ ÙˆÙ†Ù…Ùˆ)Ø› Ø§Ù„Ø¨Ø°Ø±Ø© Ø£ØµÙ„ Ø§Ù„Ø´Ø¬Ø±Ø© ÙˆØ§Ù„Ù†ÙˆØ§Ø© Ø£ØµÙ„ Ø§Ù„Ù†Ø®Ù„Ø©." },
        {q: "Ø¯Ø§ÙØ¦ : Ø­Ø§Ø±", c: "Ø§Ø¨ØªØ³Ø§Ù…Ø© : Ø¶Ø­ÙƒØ©", a: ["Ø§Ø¨ØªØ³Ø§Ù…Ø© : Ø¶Ø­ÙƒØ©", "Ø±Ù…Ø§Ø¯ÙŠ : Ø£Ø³ÙˆØ¯", "Ø®ÙˆÙ : Ø±Ø¹Ø¨", "Ù‚Ù†Ø§Ø¹Ø© : ØºÙ†Ù‰"], r: "Ø¹Ù„Ø§Ù‚Ø© (ØªØ¯Ø±Ø¬ ÙÙŠ Ø§Ù„Ø´Ø¯Ø©)Ø› Ø§Ù„Ø¯Ø§ÙØ¦ ÙŠØ´ØªØ¯ Ù„ÙŠØµØ¨Ø­ Ø­Ø§Ø±Ø§Ù‹ ÙˆØ§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø© ØªØ´ØªØ¯ Ù„ØªØµØ¨Ø­ Ø¶Ø­ÙƒØ©." },
        {q: "Ø®ÙˆÙ : Ø±Ø¹Ø¨", c: "Ø±Ù…Ø§Ø¯ÙŠ : Ø£Ø³ÙˆØ¯", a: ["Ø±Ù…Ø§Ø¯ÙŠ : Ø£Ø³ÙˆØ¯", "Ù‚Ù†Ø§Ø¹Ø© : ØºÙ†Ù‰", "Ø¹Ø¯Ùˆ : Ø±ÙƒØ¶", "Ù‡Ø¯Ù… : Ø¯Ù…Ø§Ø±"], r: "Ø¹Ù„Ø§Ù‚Ø© (ØªØ¯Ø±Ø¬)Ø› Ø§Ù„Ø®ÙˆÙ Ø§Ù„Ø´Ø¯ÙŠØ¯ Ø±Ø¹Ø¨ ÙˆØ§Ù„Ø±Ù…Ø§Ø¯ÙŠ Ø§Ù„ØºØ§Ù…Ù‚ Ø£Ø³ÙˆØ¯." },
        {q: "ØªØ¹Ø¨ : Ø±ÙƒØ¶", c: "Ø¹Ø·Ø´ : Ø­Ø±", a: ["Ø¹Ø·Ø´ : Ø­Ø±", "ÙÙ‡Ù… : ØªØ±ÙƒÙŠØ²", "Ù†ÙˆÙ… : Ø³Ù‡Ø±", "Ø¬ÙˆØ¹ : ØµÙŠØ§Ù…"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ù†ØªÙŠØ¬Ø© ÙˆØ³Ø¨Ø¨)Ø› Ø§Ù„ØªØ¹Ø¨ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø±ÙƒØ¶ ÙˆØ§Ù„Ø¹Ø·Ø´ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø±." },
        {q: "ØªØ±ÙƒÙŠØ² : ÙÙ‡Ù…", c: "Ù‚Ø±Ø§Ø¡Ø© : Ø«Ù‚Ø§ÙØ©", a: ["Ù‚Ø±Ø§Ø¡Ø© : Ø«Ù‚Ø§ÙØ©", "Ø³Ø¹ÙŠ : Ø±Ø²Ù‚", "Ù†ÙˆÙ… : Ø±Ø§Ø­Ø©", "Ø£ÙƒÙ„ : Ø´Ø¨Ø¹"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø³Ø¨Ø¨ ÙˆÙ†ØªÙŠØ¬Ø©)Ø› Ø§Ù„ØªØ±ÙƒÙŠØ² ÙŠØ¤Ø¯ÙŠ Ù„Ù„ÙÙ‡Ù… ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© ØªØ¤Ø¯ÙŠ Ù„Ù„Ø«Ù‚Ø§ÙØ©." },
        {q: "Ø¨Ù†Ø§Ø¡ : Ø¹Ù…Ø§Ø±Ø©", c: "ØªØ£Ù„ÙŠÙ : ÙƒØªØ§Ø¨", a: ["ØªØ£Ù„ÙŠÙ : ÙƒØªØ§Ø¨", "ØµÙ†Ø§Ø¹Ø© : Ø³ÙŠØ§Ø±Ø©", "Ø²Ø±Ø§Ø¹Ø© : Ø­Ù‚Ù„", "Ø·Ø¨Ø® : Ø·Ø¹Ø§Ù…"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø¹Ù…Ù„ÙŠØ© ÙˆÙ…Ù†ØªØ¬Ù‡Ø§)Ø› Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙŠÙ†ØªØ¬ Ø¹Ù…Ø§Ø±Ø© ÙˆØ§Ù„ØªØ£Ù„ÙŠÙ ÙŠÙ†ØªØ¬ ÙƒØªØ§Ø¨Ø§Ù‹." },
        {q: "Ø¹Ø¬ÙŠÙ† : Ø®Ø¨Ø²", c: "Ø±Ù…Ù„ : Ø²Ø¬Ø§Ø¬", a: ["Ø±Ù…Ù„ : Ø²Ø¬Ø§Ø¬", "Ø®Ø´Ø¨ : ÙƒØ±Ø³ÙŠ", "Ø­Ø¯ÙŠØ¯ : Ø³ÙŠØ§Ø±Ø©", "Ù‚Ø·Ù† : Ù‚Ù…Ø§Ø´"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ù…Ø§Ø¯Ø© Ø®Ø§Ù… ÙˆÙ…Ù†ØªØ¬)Ø› Ø§Ù„Ø¹Ø¬ÙŠÙ† ÙŠÙØµÙ†Ø¹ Ù…Ù†Ù‡ Ø®Ø¨Ø² ÙˆØ§Ù„Ø±Ù…Ù„ ÙŠÙØµÙ†Ø¹ Ù…Ù†Ù‡ Ø²Ø¬Ø§Ø¬." },
        {q: "Ø³ÙƒÙŠÙ† : Ù‚Ø·Ø¹", c: "Ù‚Ù„Ù… : ÙƒØªØ§Ø¨Ø©", a: ["Ù‚Ù„Ù… : ÙƒØªØ§Ø¨Ø©", "Ù…ÙØªØ§Ø­ : ÙØªØ­", "Ù…Ø´Ø±Ø· : Ø¬Ø±Ø§Ø­Ø©", "Ù…Ù†Ø´Ø§Ø± : Ù†Ø¬Ø§Ø±Ø©"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ø£Ø¯Ø§Ø© ÙˆÙˆØ¸ÙŠÙØ©)Ø› Ø§Ù„Ø³ÙƒÙŠÙ† Ù„Ù„Ù‚Ø·Ø¹ ÙˆØ§Ù„Ù‚Ù„Ù… Ù„Ù„ÙƒØªØ§Ø¨Ø©." },
        {q: "Ø£Ø¨ÙŠØ¶ : Ø³Ù„Ø§Ù…", c: "Ø£Ø­Ù…Ø± : Ø®Ø·Ø±", a: ["Ø£Ø­Ù…Ø± : Ø®Ø·Ø±", "Ø£Ø³ÙˆØ¯ : Ø­Ø²Ù†", "Ø£Ø®Ø¶Ø± : Ø¹Ø¨ÙˆØ±", "Ø£ØµÙØ± : Ø§Ù†ØªØ¨Ø§Ù‡"], r: "Ø¹Ù„Ø§Ù‚Ø© (Ù„ÙˆÙ† ÙˆØ¯Ù„Ø§Ù„ØªÙ‡)Ø› Ø§Ù„Ø£Ø¨ÙŠØ¶ ÙŠØ±Ù…Ø² Ù„Ù„Ø³Ù„Ø§Ù… ÙˆØ§Ù„Ø£Ø­Ù…Ø± ÙŠØ±Ù…Ø² Ù„Ù„Ø®Ø·Ø±." },
        {q: "Ø£Ø³Ø¯ : Ø²Ø¦ÙŠØ±", c: "Ø°Ø¦Ø¨ : Ø¹ÙˆØ§Ø¡", a: ["Ø°Ø¦Ø¨ : Ø¹ÙˆØ§Ø¡", "Ù†Ø§Ù‚Ø© : Ø±ØºØ§Ø¡", "Ø£ÙØ¹Ù‰ : ÙØ­ÙŠØ­", "Ø­ØµØ§Ù† : ØµÙ‡ÙŠÙ„"], r: "Ø¹Ù„Ø§Ù‚Ø© (ÙƒØ§Ø¦Ù† ÙˆØµÙˆØªÙ‡)Ø› Ø²Ø¦ÙŠØ± Ø§Ù„Ø£Ø³Ø¯ ÙˆØ¹ÙˆØ§Ø¡ Ø§Ù„Ø°Ø¦Ø¨." }
    ];

    let currentIdx = 0, score = 0, timer, timeLeft = 45, logs = [], activeQs = [], sName = "";

    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }

    function startQuizAction() {
        sName = document.getElementById('studentNameInput').value;
        if (!sName.trim()) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ø£ÙˆÙ„Ø§Ù‹"); return; }
        activeQs = shuffle([...questionsPool]); // Ø®Ù„Ø· Ù…ØµÙÙˆÙØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        document.getElementById('start-page').classList.add('hidden');
        document.getElementById('quiz-page').classList.remove('hidden');
        document.getElementById('student-greeting').innerText = "Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ ÙŠØ§ Ø¨Ø·Ù„: " + sName;
        document.getElementById('current-student-display').innerText = "Ø§Ù„Ù…ØªØ­Ø¯ÙŠ: " + sName;
        loadQuestion();
    }

    function startTimer() {
        clearInterval(timer);
        timeLeft = 45;
        const box = document.getElementById('timer-box');
        const val = document.getElementById('timer-val');
        box.classList.remove('timer-pulse');
        val.innerText = timeLeft;
        timer = setInterval(() => {
            timeLeft--;
            val.innerText = timeLeft;
            if (timeLeft <= 5) box.classList.add('timer-pulse');
            if (timeLeft <= 0) { clearInterval(timer); handleAns(null, null); }
        }, 1000);
    }

    function loadQuestion() {
        if (currentIdx >= activeQs.length) { endQuiz(); return; }
        const q = activeQs[currentIdx];
        document.getElementById('progress-text').innerText = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentIdx + 1} Ù…Ù† ${activeQs.length}`;
        document.getElementById('question-display').innerText = q.q;
        document.getElementById('feedback-display').style.display = 'none';
        document.getElementById('next-btn').classList.add('hidden');
        
        const box = document.getElementById('options-container');
        box.innerHTML = '';
        shuffle([...q.a]).forEach(opt => { // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            const div = document.createElement('div');
            div.className = 'option';
            div.innerText = opt;
            div.onclick = () => handleAns(opt, div);
            box.appendChild(div);
        });
        startTimer();
    }

    function handleAns(sel, el) {
        clearInterval(timer);
        const q = activeQs[currentIdx];
        const opts = document.querySelectorAll('.option');
        opts.forEach(o => o.onclick = null);

        let isCorrect = (sel === q.c);
        if (isCorrect) {
            if(el) el.classList.add('correct-opt');
            score++;
        } else {
            if(el) el.classList.add('wrong-opt');
            opts.forEach(o => { if(o.innerText === q.c) o.classList.add('correct-opt'); });
        }

        const fb = document.getElementById('feedback-display');
        fb.style.display = 'block';
        fb.innerHTML = `${q.r}<br><br><small>âœ¨ Ø£ / Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</small>`;
        document.getElementById('next-btn').classList.remove('hidden');
        logs.push({ q: q.q, user: sel || "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª â°", correct: q.c, r: q.r });
    }

    function loadNextQuestion() { currentIdx++; loadQuestion(); }

    function endQuiz() {
        document.getElementById('quiz-page').classList.add('hidden');
        document.getElementById('result-page').classList.remove('hidden');
        document.getElementById('score-display').innerText = `Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${activeQs.length}`;
        const tbody = document.getElementById('summary-body');
        logs.forEach(l => {
            tbody.innerHTML += `<tr><td>${l.q}</td><td style="color:${l.user === l.correct ? 'green':'red'}">${l.user}</td><td style="color:green; font-weight:bold">${l.correct}</td><td style="text-align:right">${l.r}</td></tr>`;
        });
    }
</script>
</body>
</html>